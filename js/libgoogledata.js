var GoogleDataRetrievals=[];function GoogleDataRetrieval(a,c,b,d){this.ArrayPos=-1;this.URL=a;this.Service=c;this.UserCallback=b;this.UserCallbackArguments=d;this.httpReq=new libHTTPRequest}GoogleDataRetrieval.prototype.createObjectFromEntry=function(a){var c=a,a=a.match(/,\s*[a-z_]*:\s/g);a.push(c.match(/^[a-z_]*:\s/)[0]);for(var b=null,d=a.length-1;d>=0;d--)b=a[d],c=c.replace(b,'"'+b.replace(/:\s/,'":').replace(/,\s/,', "')+'"'),delete b;delete a;return eval("[{"+c+'"}]')[0]};
GoogleDataRetrieval.prototype.retrieveEntries=function(a){var c=[];if(a.entry)c.push(a.entry["#"]);else if(a.feed){for(var a=a.feed["#"],b=null,d=a.length-1;d>=0;d--)a[d].entry&&(b=a[d].entry["#"],c.push(b));delete a}return c};
GoogleDataRetrieval.prototype.Callback=function(a){var c=null;try{a!="Token invalid"&&(a=a.replace(/\s/g," "),c=this.retrieveEntries(eval(a)[0]))}catch(b){console.log("  RET: ",a),console.log("GoogleDataRetrieval.Callback: err = "+b),console.trace(),c=null}finally{this.UserCallbackArguments!=null?this.UserCallback(c,this.UserCallbackArguments):this.UserCallback(c)}};
GoogleDataRetrieval.prototype.Retrieve=function(a){this.httpReq.getData(this.URL,"gs="+this.Service,function(c){var b=GoogleDataRetrievals[a];b!=null&&b!=void 0&&b.Callback(c)},!0)};function getGoogleData(a){a.ArrayPos=GoogleDataRetrievals.length;GoogleDataRetrievals.push(a);a.Retrieve(a.ArrayPos)}GSpreadsheetRetrieval.prototype=new GoogleDataRetrieval;
function GSpreadsheetRetrieval(a,c,b){this.URL=a;this.UserCallback=c;this.UserCallbackArguments=b;this.Service="wise";this.ArrayPos=-1;this.httpReq=new libHTTPRequest}GSpreadsheetRetrieval.prototype.retrieveEntries=function(a){for(var c=[],a=GoogleDataRetrieval.prototype.retrieveEntries(a),b=a.length-1;b>=0;b--)for(var d=a[b].length-1;d>=0;d--)if(a[b][d].content)content=a[b][d].content.$,content!=null&&c.push(this.createObjectFromEntry(content)),delete content;delete a;return c};
